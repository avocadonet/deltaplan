# **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ-–¥–æ—Å—É–≥–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ "–î–µ–ª—å—Ç–∞–ø–ª–∞–Ω"**

"–î–µ–ª—å—Ç–∞–ø–ª–∞–Ω" ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —É—á–µ–±–Ω–æ–π –∏ –≤–Ω–µ–∫–ª–∞—Å—Å–Ω–æ–π –∂–∏–∑–Ω–∏ –ª–∏—Ü–µ—è. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –±—ç–∫–µ–Ω–¥ –Ω–∞ Django –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∏ API, –∞ —Ç–∞–∫–∂–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Flutter –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

## **‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:

*   **–ë—ç–∫–µ–Ω–¥:** Python, Django, Django REST Framework.
*   **–§—Ä–æ–Ω—Ç–µ–Ω–¥:** Dart, Flutter (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Android, iOS, Web).
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL.
*   **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è:** Docker, Docker Compose.
*   **Production-—Å–µ—Ä–≤–µ—Ä:** Gunicorn (–∫–∞–∫ WSGI-—Å–µ—Ä–≤–µ—Ä) –∏ Nginx (–∫–∞–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏).

## **üõ†Ô∏è –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)**

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
1.  **Docker –∏ Docker Compose:** [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](https://docs.docker.com/get-docker/).
2.  **Flutter SDK:** [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](https://flutter.dev/docs/get-started/install).
3.  **Git:** –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone https://github.com/avocadonet/deltaplan.git
cd deltaplan
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è —Ñ–∞–π–ª—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±—ç–∫–µ–Ω–¥–∞.

1.  **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –í –ø–∞–ø–∫–µ `backend/` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`.
2.  **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:** –í –ø–∞–ø–∫–µ `backend/` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env_prod`.

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ production-—Å–µ–∫—Ä–µ—Ç—ã –≤ Git!** –§–∞–π–ª—ã `.env` –∏ `.env_prod` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`.

#### **–ü—Ä–∏–º–µ—Ä `backend/.env` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**
```dotenv
SECRET_KEY='django-insecure-your-secret-key-for-development'
DEBUG=True
ALLOWED_HOSTS=*
POSTGRES_DB=deltaplan_dev
POSTGRES_USER=user_dev
POSTGRES_PASSWORD=password_dev
DB_HOST=postgres_dev
DB_PORT=5432
```

#### **–ü—Ä–∏–º–µ—Ä `backend/.env_prod` (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):**
–í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É.
```dotenv
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!
SECRET_KEY='your-super-secret-and-long-production-key'

# –û—Ç–ª–∞–¥–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–∫–ª—é—á–µ–Ω–∞!
DEBUG=False

# –£–∫–∞–∂–∏—Ç–µ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –∏ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.
# –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.
ALLOWED_HOSTS=your_domain.com,www.your_domain.com,127.0.0.1,localhost

# [–í–ê–ñ–ù–û] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è CORS, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é.
# –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
# –£–∫–∞–∂–∏—Ç–µ —Å—é–¥–∞ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞. –ü—Ä–∏–º–µ—Ä:
EXTRA_CORS_ORIGINS=http://192.168.51.41:8080

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
POSTGRES_DB=deltaplan_prod
POSTGRES_USER=user_prod
POSTGRES_PASSWORD=super_secret_password_prod
DB_HOST=postgres_prod
DB_PORT=5432
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã CORS –≤ Django `settings.py` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —á—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `EXTRA_CORS_ORIGINS`.


## **üöÄ –†–µ–∂–∏–º 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Hot-Reload)**

–≠—Ç–æ—Ç —Ä–µ–∂–∏–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç **hot-reload** –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. Nginx –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

### **–ó–∞–ø—É—Å–∫ Backend + –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
–í –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–µ–º docker-compose.yml, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
docker compose up
```
*   –ë—ç–∫–µ–Ω–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8000/`.

### **–ó–∞–ø—É—Å–∫ Frontend (Flutter):**
–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –Ω—É–∂–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:
```bash
cd frontend
flutter pub get
flutter run # –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (chrome, —ç–º—É–ª—è—Ç–æ—Ä –∏ —Ç.–¥.)
```


## **üöÄ –†–µ–∂–∏–º 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Production-—Å–±–æ—Ä–∫–∏ (–ª–æ–∫–∞–ª—å–Ω–æ)**

–≠—Ç–æ—Ç —Ä–µ–∂–∏–º —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Nginx** –∏ **Gunicorn**. Hot-reload **–æ—Ç–∫–ª—é—á–µ–Ω**.

### **–®–∞–≥ 0: –ó–∞–ø—É—Å–∫ Backend-—Å–µ—Ä–≤–µ—Ä–∞ (–û–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤)**
–≠—Ç–æ –ø–µ—Ä–≤—ã–π –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —à–∞–≥ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å—Ç—É–ø–µ–Ω–µ–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
```bash
# –§–ª–∞–≥ -f —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
# –§–ª–∞–≥ -d (detach) –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.
docker compose -f docker-compose.prod.yml up -d --build
```
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
docker compose -f docker-compose.prod.yml exec backend_prod python manage.py migrate
docker compose -f docker-compose.prod.yml exec backend_prod python manage.py createsuperuser
```

### **–°—Ç—É–ø–µ–Ω—å 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Web-–≤–µ—Ä—Å–∏–∏ –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ**

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤–µ–±-—Å–±–æ—Ä–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ —Ç–æ–º –∂–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä.

1.  **–°–±–æ—Ä–∫–∞ Web-–≤–µ—Ä—Å–∏–∏:**
    ```bash
    cd frontend
    # –°–æ–±–∏—Ä–∞–µ–º web-–≤–µ—Ä—Å–∏—é, —É–∫–∞–∑—ã–≤–∞—è, —á—Ç–æ API –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ —Ö–æ—Å—Ç–µ
    flutter build web --dart-define=API_URL=http://127.0.0.1:8080/api/
    cd ..
    ```
2.  **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∞–¥—Ä–µ—Å **`http://localhost:8080`**. –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ `localhost:8080` –∏ `127.0.0.1:8080` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö CORS.

### **–°—Ç—É–ø–µ–Ω—å 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Android**

**–¶–µ–ª—å:** –°–æ–±—Ä–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `.apk` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π Android-—Ç–µ–ª–µ—Ñ–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π Wi-Fi —Å–µ—Ç–∏.

1.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏ –∏ `.env_prod`:**
    *   –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –≤–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º "–¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ Wi-Fi".
    *   –ù–∞ –Ω–æ—É—Ç–±—É–∫–µ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —ç—Ç–æ–π —Å–µ—Ç–∏ –∏ —É–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π IP-–∞–¥—Ä–µ—Å (–∫–æ–º–∞–Ω–¥–∞ `ipconfig` –≤ Windows).
    *   –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `backend/.env_prod` –∏ –≤–ø–∏—à–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `EXTRA_CORS_ORIGINS`. –ü—Ä–∏–º–µ—Ä:
      ```dotenv
      EXTRA_CORS_ORIGINS=http://192.168.51.41:8080
      ```
    *   **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª–∏ –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `docker compose -f docker-compose.prod.yml up -d`

2.  **–°–±–æ—Ä–∫–∞ `.apk` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º IP:**
    ```bash
    cd frontend
    # –ó–∞–º–µ–Ω–∏—Ç–µ <IP-–ê–î–†–ï–°-–í–ê–®–ï–ì–û-–ù–û–£–¢–ë–£–ö–ê> –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP!
    flutter build apk --dart-define=API_URL_ANDROID=http://<IP-–ê–î–†–ï–°-–í–ê–®–ï–ì–û-–ù–û–£–¢–ë–£–ö–ê>:8080/api/
    ```
    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ "–∑–∞–ø–µ—á–µ—Ç" IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä—è–º–æ –≤ —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª.

3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    *   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `build/app/outputs/flutter-apk/app-release.apk` –Ω–∞ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω.
    *   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤).
    *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `android:usesCleartextTraffic="true"` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–µ–≥ `<application>` –≤ —Ñ–∞–π–ª–µ `android/app/src/main/AndroidManifest.xml` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `http://`.
    *   –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –û–Ω–æ –¥–æ–ª–∂–Ω–æ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –±—ç–∫–µ–Ω–¥—É.

### **–°—Ç—É–ø–µ–Ω—å 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ iPhone**

**–¶–µ–ª—å:** –°–æ–±—Ä–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `.ipa` –Ω–∞ iPhone. **–í–Ω–∏–º–∞–Ω–∏–µ: –¥–ª—è —ç—Ç–æ–≥–æ —à–∞–≥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ macOS!** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Codemagic, Mac-in-the-Cloud).

1.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏ –∏ `.env_prod`:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å—Ç—É–ø–µ–Ω–∏ 2 –Ω–∞ –≤–∞—à–µ–º –Ω–æ—É—Ç–±—É–∫–µ, –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ç–∫–µ–Ω–¥.

2.  **–°–±–æ—Ä–∫–∞ `.ipa` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º IP (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ macOS):**
    ```bash
    # –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å macOS!
    # –ó–∞–º–µ–Ω–∏—Ç–µ <IP-–ê–î–†–ï–°-–í–ê–®–ï–ì–û-–ù–û–£–¢–ë–£–ö–ê> –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π IP!
    flutter build ipa --dart-define=API_URL_ANDROID=http://<IP-–ê–î–†–ï–°-–í–ê–®–ï–ì–û-–ù–û–£–¢–ë–£–ö–ê>:8080/api/
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    *   –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π `.ipa` —Ñ–∞–π–ª –Ω–∞ –≤–∞—à Windows-–∫–æ–º–ø—å—é—Ç–µ—Ä.
    *   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—ã –≤—Ä–æ–¥–µ **Sideloadly** –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `.ipa` —Ñ–∞–π–ª–∞ –Ω–∞ iPhone —Å –ø–æ–º–æ—â—å—é –≤–∞—à–µ–≥–æ Apple ID.
    *   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å –ø–æ–º–æ—â—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ Apple ID, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 7 –¥–Ω–µ–π.

---

## **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞**

*   **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev-–æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    ```bash
    docker compose down
    ```
*   **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ prod-–æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    ```bash
    docker compose -f docker-compose.prod.yml down
    ```
*   **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
    ```bash
    docker compose -f docker-compose.prod.yml logs -f nginx
    docker compose -f docker-compose.prod.yml logs -f backend_prod
    ```